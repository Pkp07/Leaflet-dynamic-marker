<html>
    <head>
    <title>Leaflet dynamic multiple markers</title>
    </head>
    <body>
        <h3>Dynamic marker generation and bind popup on Leaflet</h3>
        <p>Refer : <a href="https://leafletjs.com/reference-1.6.0.html#popup">Leaflet Popup</a></p>
        <div id="map" style="width: 100%; height: 500px;"></div>
        <script src="https://d19vzq90twjlae.cloudfront.net/leaflet-0.7.3/leaflet.js"></script> 
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.js" data-require="leaflet@0.7.3" data-semver="0.7.3"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/leaflet.css" />
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/leaflet.js"></script>
       
       <script type="text/javascript">
            var markerArray = [];   
            var markerArray1 = []; 
            let coordinates = [{"longitude":"12.9787017","latitude":"77.5705575"},{"longitude":"13.087453","latitude":"77.408180"},{"longitude":"12.9497922","latitude":"77.5891583"},{"longitude":"12.900278","latitude":"77.505296"}];
          
            var mymap = L.map('map').setView([13.091128, 77.408518], 10);
                mymap.attributionControl.addAttribution(
                    'Leaflet',
                );
                L.tileLayer('http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {
                    maxZoom: 18,
                    attribution: '',
                id: 'mapbox/streets-v11'
                }).addTo(mymap);
   
            for (var i = 0; i < coordinates.length; i++) {
                var popup1 = "This is marker "+ (i+1);
                var latlng = new L.LatLng(coordinates[i].longitude, coordinates[i].latitude);
                markerArray[i] = new L.Marker(latlng).bindPopup(popup1).addTo(mymap);

                markerArray[i].openPopup();
                markerArray1.push(markerArray[i]);
                
                //to generate multiple markers you need to use featureGroup and addLayers on map. 
                var group = L.featureGroup(markerArray1);
                mymap.addLayer(group);
            }
        </script>
    </body>
</html>